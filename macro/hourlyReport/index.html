<!DOCTYPE html>
<html>
<head>
    <title>Hourly Report</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
        <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.js"></script>
</head>
<body style = "font-family: 'Montserrat', sans-serif; 
    background-image: linear-gradient( rgba(0, 0, 0, 0.85) 0%, rgba(0, 0, 0, 0.85) 100%), 
url(https://static.wikia.nocookie.net/08c2e73b-0598-4037-8726-611dc53ba5ce);
    background-attachment: fixed;
    background-size: cover;
    background-repeat: no-repeat;">
    <label style="display: block;color: white; font-size: 1.8vw; width: 100%; text-align: center; font-weight: 700;margin-bottom: 3vw;">Hourly Report</label>
    <main style = "margin-left: 2%; width: 96%; display: flex; padding-bottom: 2vw;">
        <div style="width:70%; display: flex; flex-direction: column;">
            <div style="display: flex;">
                <div style = "background-color: #1F1F1F; width: 60%; border: 50%; border-radius: 10px; box-shadow: 3px 3px 3px 3px rgba(0, 0, 0, 0.3);">
                    <label style="display: block;color: white; font-size: 1.3vw; width: 100%; text-align: center; font-weight: 600; margin-top: 1vw;">Honey/min</label>
                    <canvas id="hmChart" style = "margin-top: 2vw;"></canvas>
                </div>
                <div style = "background-color: #1F1F1F; width: 38%; border: 50%; border-radius: 10px; box-shadow: 3px 3px 3px 3px rgba(0, 0, 0, 0.3); margin-left: auto;">
                    <label style="display: block;color: white; font-size: 1.3vw; width: 100%; text-align: center; font-weight: 600; margin-top: 1vw;">Task Time</label>
                    <div style="color: white; display: flex; flex-direction: column; margin-left: 10%; font-weight: 500; font-size: 1.1vw; margin-top: 3vw;">
                        <div style="display: flex; align-items: center;">
                            <div style="height: 15px; aspect-ratio: 1/1;background-color: #693ADC; margin-right: 0.8vw;"></div>
Rejoining:	0m 0s
                        </div>  
                        <div style="display: flex; align-items: center; margin-top: 0.5vw;">
                            <div style="height: 15px; aspect-ratio: 1/1;background-color: #937AD2; margin-right: 0.8vw;"></div>
Gathering:	39m 40s
                        </div>  
                        <div style="display: flex; align-items: center; margin-top: 0.5vw;">
                            <div style="height: 15px; aspect-ratio: 1/1;background-color: #A29EAB; margin-right: 0.8vw;"></div>
Bug Runs:	0m 0s
                        </div>
                        <div style="display: flex; align-items: center; margin-top: 0.5vw;">
                            <div style="height: 15px; aspect-ratio: 1/1;background-color: #65686C; margin-right: 0.8vw;"></div>
Converting:	3m 59s
                        </div>
                        <div style="display: flex; align-items: center; margin-top: 0.5vw;">
                            <div style="height: 15px; aspect-ratio: 1/1;background-color: #505358; margin-right: 0.8vw;"></div>
Collecting Objectives:	2m 8s
                        </div>  
                    </div>
                    <canvas id="ttChart" style = "margin-top: 2vw; margin-bottom: 1vw;"></canvas>
                </div>
            </div>
            <div style = "background-color: #1F1F1F; width: 100%; border: 50%; border-radius: 10px; box-shadow: 3px 3px 3px 3px rgba(0, 0, 0, 0.3); margin-top: 2vw; display: flex; flex-direction: column; align-items: center;">
                <label style="display: block;color: white; font-size: 1.3vw; width: 100%; text-align: center; font-weight: 600; margin-top: 1vw;">Buffs</label>
                <img src = "
/Users/brydonti/Desktop/bee_swarm_macro/macro/hourlyReport/assets/buffs.png
                " style="width: 80%; margin-top: 2vw; border-radius: 7px; margin-bottom: 1.3vw;">
            </div>
        </div>
        <div style="display: flex; flex-direction: column; width: 25%; margin-left: auto;">
            <div style = "background-color: #1F1F1F; width: 100%; border-radius: 10px; box-shadow: 3px 3px 3px 3px rgba(0, 0, 0, 0.3);">
                <label style="display: block;color: white; font-size: 1.3vw; width: 100%; text-align: center; font-weight: 600; margin-top: 1vw;">Session Stats</label>
                <div style="width:100%; display: flex; flex-direction: column;">
                    <label style="display: block;color: white; font-size: 1.2vw; width: 100%; font-weight: 500; margin-top: 2vw; margin-left: 10%;">
                        Session Time: <span style="color:#BB86FC;">
0d 2h 54m
                        </span>
                    </label>
                    <label style="display: block;color: white; font-size: 1.2vw; width: 100%; font-weight: 500; margin-top: 2vw; margin-left: 10%;">
                        Current Honey: <span style="color:goldenrod;">
15.26 T
                        </span>
                    </label>
                    <label style="display: block;color: white; font-size: 1.2vw; width: 100%; font-weight: 500; margin-top: 2vw; margin-left: 10%;">
                        Session Honey: <span style="color:goldenrod;">
83.39 B
                        </span>
                    </label>
                    <label style="display: block;color: white; font-size: 1.2vw; width: 100%; font-weight: 500; margin-top: 2vw; margin-left: 10%; margin-bottom: 1vw;">
                        Vicious Bees Killed: <span style="color:indianred">
1
                        </span>
                    </label>
                </div>

            </div>

            <div style = "background-color: #1F1F1F; width: 100%; border-radius: 10px; box-shadow: 3px 3px 3px 3px rgba(0, 0, 0, 0.3); margin-top: 4vw;">
                <label style="display: block;color: white; font-size: 1.3vw; width: 100%; text-align: center; font-weight: 600; margin-top: 1vw;">Hourly Stats</label>
                <div style="width:100%; display: flex; flex-direction: column;">
                    <label style="display: block;color: white; font-size: 1.2vw; width: 100%; font-weight: 500; margin-top: 2vw; margin-left: 10%;">
                        Honey This Hour: <span style="color:goldenrod;">
31.79 B
                        </span>
                    </label>
                    <label style="display: block;color: white; font-size: 1.2vw; width: 100%; font-weight: 500; margin-top: 2vw; margin-left: 10%;">
                        Average Gather Time: 
                        <span style="color: aquamarine;">
13m 13s
                        </span>
                    </label>
                    <label style="display: block;color: white; font-size: 1.2vw; width: 100%; font-weight: 500; margin-top: 2vw; margin-left: 10%;">
                        Average Convert Time:
                        <span style="color: aquamarine;">
1m 20s
                        </span>
                    </label>
                    <label style="display: block;color: white; font-size: 1.2vw; width: 100%; font-weight: 500; margin-top: 2vw; margin-left: 10%; margin-bottom: 1vw;">
                        Bugs Killed: <span style="color:indianred">
5
                        </span>
                    </label>
                </div>

            </div>
        </div>
        
    </main>
    <script>
        function leadingZero(inp){
            if (inp < 10) return `0${inp}`
            return inp
        }

        function millify(n){
            if (!n) return 0
            var millnames = ['','K','M','B','T','Qd']
            var digitCount = Math.floor(Math.log10(Math.abs(n))/3)
            var millidx = Math.max(0,Math.min(millnames.length -1, digitCount))

            return `${(n / 10**(3 * millidx)).toFixed(1)}${millnames[millidx]}`
        }
const time = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58]
const honey = [138895616, 154060438, 110205175, 182757015, 70620668, 80721986, 94508917, 142216153, 160794615, 60411326, 2205668919, 3961935762, 3705510935, 3818788260, 1600191941, 845459, 388814, 294070, 574858, 930228, 1659687, 207976, 27243608, 114260191, 79554302, 157549824, 114700300, 238158098, 127796203, 138672677, 47866960, 288682396, 137196186, 109909765, 132788651, 186404309, 2297398257, 3802700228, 3558828467, 2012664671, 81100, 199246, 500, 11916131, 55066848, 114276471, 126199400, 95132311, 107135617, 93329039, 141638362, 220244461, 224704013, 273582806, 66812563, 0, 1079414, 362464]
        var hour = leadingZero(new Date().getHours())
        Chart.defaults.global.defaultFontColor = "#fff";
        Chart.defaults.global.defaultFontSize = 15
        new Chart("hmChart", {
            type: "line",
            data: {
                labels: time,
                datasets: [{
                    label: 'My First Dataset',
                    data: honey,
                    fill: false,
                    borderColor: '#BB86FC',
                    tension: 0.1
                }]
            },
            options: {
                legend: {display: false},
                elements: {
                    point:{
                        radius: 0
                    }
                },
                layout: {
                    padding: {
                        left: 20,
                        right: 20,
                        top: 0,
                        bottom: 10
                    }
                },
                scales: {
                    xAxes: [{
                        display: true,
                        gridLines: {
                            display:false
                        },

                        ticks: {
                            autoSkip: false,
                            minRotation: 0,
                            maxRotation: 0,
                            callback: function(value, index, values) {
                                if (!(value%10)) return `${hour}:${leadingZero(value)}`
                            }
                        }
                    }],
                    yAxes: [{
                        display: true,
                        gridLines: {
                            borderDash: [5, 10],
                            color: "#464645"
                        },
                        ticks: {
                            callback: function(value, index, values) {
                                return millify(value);
                            }
                        }
                    }]
                    }
            }
        });

        const tasks = ["Rejoining", "Gathering", "Bug Runs", "Converting", "Objectives"];
const times = [0,39.67,0,3.9799999999999995,2.14]
        var barColors = [
        "#693ADC",
        "#937AD2",
        "#A29EAB",
        "#65686C",
        "#505358"
        ];

        new Chart("ttChart", {
        type: "doughnut",
        data: {
            labels: tasks,
            datasets: [{
            backgroundColor: barColors,
            borderWidth: 0,
            data: times
            }]
        },
        
        options: {
            legend: {display: false},
            title: {
            display: false,
            },
            animation: {
                duration: 0
            }
        }
        });
    </script>
</body>
</html>